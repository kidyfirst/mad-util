!function(global,document,undefined){if(!global.util){var madutil=global.util={version:"0.0.7"},lang=madutil.lang={is:function(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return t!==undefined&&null!==t&&n===e},isNumber:function(e){return this.is("Number",e)},isString:function(e){return this.is("String",e)},isFunction:function(e){return this.is("Function",e)},isObject:function(e){return this.is("Object",e)},isArray:function(e){return this.is("Array",e)}},query=madutil.query={$:function(e,t){return t=t&&this.$(t)||document,lang.isString(e)&&""!=e?t.querySelector(e):e},$a:function(e,t){return t=t&&this.$(t)||document,lang.isString(e)&&""!=e?t.querySelectorAll(e):e}};madutil.$=query.$,madutil.string={escHTML:function(e,t){var n=["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;","\\r","<br>","\\n","<br>"];t&&n.reverse();for(var r=0,a=e;r<n.length;r+=2)a=a.replace(new RegExp(n[r],"g"),n[1+r]);return a},format:function(){var e=arguments[0];if(arguments.length>1)if(2==arguments.length&&"object"==typeof arguments[1]){var t=arguments[1];for(var n in t)if(t[n]!=undefined){var r=new RegExp("({"+n+"})","g");e=e.replace(r,t[n])}}else for(var a=1;a<arguments.length;a++)if(arguments[a]!=undefined){var r=new RegExp("({["+(a-1)+"]})","g");e=e.replace(r,arguments[a])}return e}};var numberParse=madutil.number={formatFloat:function(e,t){t=t||2;var n=t+1,r=Math.round(e*Math.pow(10,n));return(Math.round(r/10)/Math.pow(10,t)).toFixed(t)},convertToNumber:function(e){return e.replace(/[^\d]/g,"")}},dateParse=madutil.date={convertToDate:function(e){var t=e;return"string"==typeof e&&(t=new Date(Date.parse(e)),isNaN(t.getTime())&&e.replace(/^(\d{4})-(\d{1,2})-(\d{1,2}).(\d{2}):(\d{2}):(\d{2})$/,function(e,n,r,a,o,i,u){t=new Date(n,r-1,a,o,i,u)})),t},format:function(e,t){e=Date.convertToDate(e);var n=function(e,t){t||(t=2),e=new String(e);for(var n=0,r="";n<t-e.length;n++)r+="0";return r+e};return t.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|M{1,4}|yy(?:yy)?|([hHmstT])\1?|[lLZ])\b/g,function(t){switch(t){case"d":return e.getDate();case"dd":return n(e.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][e.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];case"M":return e.getMonth()+1;case"MM":return n(e.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];case"yy":return new String(e.getFullYear()).substr(2);case"yyyy":return e.getFullYear();case"h":return e.getHours()%12||12;case"hh":return n(e.getHours()%12||12);case"H":return e.getHours();case"HH":return n(e.getHours());case"m":return e.getMinutes();case"mm":return n(e.getMinutes());case"s":return e.getSeconds();case"ss":return n(e.getSeconds());case"l":return e.getMilliseconds();case"ll":return n(e.getMilliseconds());case"tt":return e.getHours()<12?"am":"pm";case"TT":return e.getHours()<12?"AM":"PM"}})},diff:function(e,t,n){var r;e=Date.convertToDate(e),t=Date.convertToDate(t);var a=t.getTime()-e.getTime();switch(n){case"ms":r=1;break;case"s":r=1e3;break;case"m":r=6e4;break;case"h":r=36e5;break;case"d":r=864e5;break;default:r=864e5}return Math.floor(a/r)}},cookie=madutil.cookie={get:function(e){var t=document.cookie.match(new RegExp("(?:^|;\\s)"+e+"=(.*?)(?:;\\s|$)"));return t?t[1]:""},set:function(e,t,n){n=n||{};var r=new Date,a=n.domain||"pay.qq.com",o=n.path||"/",i=n.time||31536e7;r.setTime(r.getTime()+i),document.cookie=e+"="+t+"; path="+o+"; domain="+a+"; expires="+r.toUTCString()},del:function(e,t){t=t||{},t.time=-new Date,this.set(e,"",t)}},storage=window.localStorage;madutil.storage=storage?{get:function(e,t){t=t||{};var n=t.domain||location.host,r=t.path||"/";return storage.getItem(madutil.string.format("{0}{1}@@{2}",n,r,e))},set:function(e,t,n){n=n||{};var r=n.domain||location.host,a=n.path||"/";try{storage.setItem(madutil.string.format("{0}{1}@@{2}",r,a,e),t)}catch(o){}},del:function(e,t){t=t||{};var n=t.domain||location.host,r=t.path||"/";storage.removeItem(madutil.string.format("{0}{1}@@{2}",n,r,e))}}:cookie;var jsonParse=madutil.json={stringify:function(e){var t="";try{t=JSON.stringify(e)}catch(n){}return t},parseJSON:function(e){var t=null;try{t=JSON.parse(e)}catch(n){}return t}},nextFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),fn=madutil.fn={noop:function(){},delayRun:function(e,t,n,r){r=r||window,r._delayRunList?r._delayRunList[e]&&(clearTimeout(r._delayRunList[e]),r._delayRunList[e]=-1):r._delayRunList={},r._delayRunList[e]=setTimeout(function(){t.call(r)},~~n)},nextFrame:function(){nextFrame.apply(window,arguments)},uuid:function(e,t){var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=r,o=[];if(t=t||a.length,e)for(n=0;e>n;n++)o[n]=a[0|Math.random()*t];else{var i;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",n=0;36>n;n++)o[n]||(i=0|16*Math.random(),o[n]=a[19==n?3&i|8:i])}return o.join("")},extend:function(e){for(var t=1;t<=arguments.length;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e},each:function(e,t){var n,r=0,a=e.length,o=a===undefined&&lang.isObject(e);if(o){for(var i in e)if(t.call(e[i],e[i],i,e)===!1)break}else for(n=e[0];a>r&&!1!==t.call(n,n,r,e);n=e[++r]);return e}},urlParse=madutil.url={serializeParam:function(e){if(!e)return"";var t=[];for(var n in e)("undefined"!=typeof e[n]||null!=e[n])&&t.push(n+"="+e[n]);return t.join("&")},getParam:function(e,t){var n=t||window.location.href;if(e&&n){var r=new RegExp("(\\?|#|&|^)"+e+"=([^&^#]*)(#|&|$)"),a=n.match(r);return a?a[2]:""}return""},delParam:function(e,t){return!e instanceof Array&&(e=[e]),fn.each(e,function(e){t=t.replace(new RegExp("(?:&"+e+"=[^&]*)","g"),""),t=t.replace(new RegExp("(?:\\?"+e+"=[^&]*&?)","g"),"?")}),t},addParam:function(e,t){var n=[];fn.each(e,function(e,t){n.push(t)}),t=this.delParam(n,t);var r=t.serializeParam(e);return t+=/(\?|&)$/.test(t)?""+r:/\?/.test(t)?"&"+r:"?"+r},getParams:function(e){e=e||location.href;var t=e.replace(/.+?\?/,"").replace(/#.*/,"").split("&"),n={};for(var r in t){var a=t[r].split("=");2===a.length&&(n[a[0]]=a[1])}return n}},ua={},m,agent=navigator.userAgent;ua.iPod=agent.indexOf("iPod")>-1,ua.iPad=agent.indexOf("iPad")>-1,ua.iPhone=agent.indexOf("iPhone")>-1,agent.indexOf("Android")>-1&&(ua.android=parseFloat(agent.slice(agent.indexOf("Android")+8))),(ua.iPad||ua.iPhone||ua.iPod)&&(m=/OS (\d+)_/.exec(agent),ua.iOS=parseInt(m[1],10)||!0),ua.wp=agent.indexOf("Windows Phone")>-1,m=/ MicroMessenger\/([0-9\.]+)/i.exec(agent),m&&(ua.weixin=parseFloat(m[1],10)),m=/ QQ\/([0-9\.]+)/i.exec(agent),m&&(ua.QQ=parseFloat(m[1],10)),madutil.ua=ua;var cacheHeight,getClientHeight=function(e){var t=e||document;return"CSS1Compat"==t.compatMode?t.documentElement.clientHeight||cacheHeight:t.body.clientHeight};cacheHeight=getClientHeight();var dom=madutil.dom={setStyle:function(e,t,n){e=query.$(e),lang.isObject(t)?fn.each(t,function(t,n){e.style[n]=t}):e.style[t]=n},getStyle:function(e,t){if(e){if("float"===t&&(t="cssFloat"),e.style[t])return e.style[t];if(window.getComputedStyle)return window.getComputedStyle(e,null)[t];if(document.defaultView&&document.defaultView.getComputedStyle){t=t.replace(/([\/A-Z])/g,"-$1"),t=t.toLowerCase();var n=document.defaultView.getComputedStyle(e,"");return n&&n.getPropertyValue(t)}return e.currentStyle?e.currentStyle[t]:void 0}},toDom:function(e){var t=document.createElement("div"),n=null,r=!0;t.innerHTML=e;for(var a=0,o=t.childNodes.length;o>a&&r;a++)n=t.childNodes[a],1==n.nodeType&&(r=!1);return n},css:function(e,t,n){var r="";if(lang.isObject(t))for(key in t)t[key]||0===t[key]?r+=key+":"+t[key]+";":e.style.removeProperty(key);else n||0===n?r=t+":"+n:e.style.removeProperty(dasherize(t));e.style.cssText+=";"+r},hide:function(e){return this.setStyle(e,"display","none")},show:function(e){return this.setStyle(e,"display","")},remove:function(e){e=query.$(e),e.parentNode.removeChild(e)},visible:function(e){return this.setStyle(e,"visibility","visible")},hidden:function(e){return this.setStyle(e,"visibility","hidden")},dispatchEvent:function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),query.$(e).dispatchEvent(n)},removeClass:function(e,t){return e=query.$(e),e.className=e.className.replace(new RegExp("\\s*"+t+"($|\\s)\\b"),"")},addClass:function(e,t){return e=query.$(e),!dom.hasClass(e,t)&&(e.className+=" "+t)},hasClass:function(e,t){return new RegExp("\\b"+t+"($|\\s)\\b").test(query.$(e).className)},getScrollLeft:function(e){var t=e||document;return t.body.scrollLeft},getScrollTop:function(e){var t=e||document;return t.body.scrollTop},getClientHeight:getClientHeight,getClientWidth:function(e){var t=e||document;return"CSS1Compat"==t.compatMode?t.documentElement.clientWidth:t.body.clientWidth},getScrollHeight:function(e){return e=e||document.documentElement,e.scrollHeight},getScrollWidth:function(e){return e=e||document.documentElement,e.scrollWidth},getNext:function(e){var t=query.$(e);for(t=e.nextSibling;t&&1!=t.nodeType;)t=t.nextSibling;return t},getPre:function(e){var t=query.$(e);for(t=e.previousSibling;t&&1!=t.nodeType;)t=t.nextSibling;return t}};!function(e,t,n){for(var r,a="atchesSelector",o=t.documentElement,i=["webkitM","mozM","msM","oM","m"],u=i.length;u--;)if(i[u]+a in o){r=i[u]+a;break}e.matchesSelector=r?function(e,t){return e[r](t)}:n?function(e,r){return-1!==n.call((e.parentNode||t).querySelectorAll(r)||[],e)}:function(e,n){for(var r=(e.parentNode||t).querySelectorAll(n)||[],a=r.length;a--;)if(r[a]==e)return!0;return!1}}(global,document,Array.prototype.indexOf);var _handlers=[],event=madutil.event={domReady:function(e,t){"complete"==document.readyState||"interactive"==document.readyState?e.call():document.addEventListener("DOMContentLoaded",function(t){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),e.call()},!1)},on:function(e,t,n,r,a,o){if(o=!!o,e=query.$(e)){var i=function(t){if(!a)return n.apply(t.target,[t].concat(r));var o=null,i=t.target;do if(matchesSelector(i,a)){o=i;break}while(i!=e&&(i=i.parentNode));o&&n.apply(o,[t].concat(r))},u=t.split(".");t=u.length>1?u[0]:t,e.addEventListener(t,i,o),_handlers.push({el:e,type:t,ws:u.length>1?u[1]:"",cfn:i,fn:n,caught:o})}},unonWS:function(e){var t=[];fn.each(_handlers,function(n){return e!=n.ws?void t.push(n):void n.el.removeEventListener(n.type,n.cfn,n.caught)}),_handlers=t},unon:function(e,t,n,r){var a=[];fn.each(_handlers,function(o){return e&&o.el!==e||t&&o.type!==t||"function"==typeof n&&o.fn!==n||"undefined"!=typeof r&&o.caught!==r?void a.push(o):void o.el.removeEventListener(o.type,o.cfn,o.caught)}),_handlers=a}},noop=function(){},req=madutil.request={log:function(){var e=[];return function(t){var n=new Image;e.push(n),n.onload=n.onerror=n.onabort=function(){n=n.onload=n.onerror=n.onabort=null;for(var t=0,r=e.length;r>t;++t)e[t]===n&&e.splice(t,1)},n.src=t}}(),getJsonp:function(e,t,n){n=fn.extend({onSucess:noop,onFailed:noop},n);var r=null,a=String.format("c{0}{1}",U.fn.uuid(4,10),+new Date),o=t.fixedCB?t.fixedCB:a;delete t.fixedCB,window[o]=function(e){r=e,delete window[o]};var i={};t.fixedCBR?(i[t.fixedCBR]=a,delete t.fixedCBR):i={format:String.format("jsonp_{0}",a)};var u=fn.extend(i,t),s=urlParse.serializeParam(u);e+=(e.indexOf("?")>-1?"&":"?")+s,this.loadScript(e,function(e,t){r&&t?n.onSucess&&n.onSucess.apply(window,[r]):(r={ret:-9999,path:e,msg:"系统繁忙，请稍后再试！"},n.onFailed&&n.onFailed.apply(window,[r]))},e)},ajax:function(option){var o=option,m=o.method.toLocaleUpperCase(),isPost="POST"==m,xhr=window.XMLHttpRequest?new XMLHttpRequest:!1;if(!xhr)return o.error&&o.error.call(null,{ret:999,msg:"Create XHR Error!"}),!1;var qstr=urlParse.serializeParam(o.param);return qstr&&!isPost&&(o.url+=(o.url.indexOf("?")>-1?"&":"?")+qstr),xhr.open(m,o.url,!0),isPost&&xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xhr.onreadystatechange=function(){if(4==xhr.readyState){var status=xhr.status;if(status>=200&&300>status){var response=xhr.responseText.replace(/(\r|\n|\t)/gi,""),m=/(?:callback\()?(.+)(?:\))?/gi.exec(response),result={ret:998,msg:"解析数据出错，请稍后再试",status:status};try{result=eval("("+m[1]+")")}catch(e){}o.success&&o.success.call(xhr,result)}else o.error&&o.error.call(xhr,{ret:997,msg:"连接错误，请稍后再试",status:status})}},xhr.send(isPost?qstr:void 0),xhr},loadScript:function(e,t,n,r){var a=document.getElementsByTagName("head")[0],o=document.createElement("script"),i=function(){if(o){try{o.src=""}catch(e){}event.unon(o,"load",i),a.removeChild(o),o=null,"function"==typeof t&&t(n,!0)}},u=function(){if(o){try{o.src=""}catch(e){}event.unon(o,"error",u),a.removeChild(o),o=null,"function"==typeof t&&t(n,!1)}};event.on(o,"load",i),event.on(o,"error",u),o.charset=r||"utf-8",o.src=e,a.insertBefore(o,a.firstChild)}}}}(window,document),"undefined"!=typeof define?define(function(e,t,n){n.exports=t=window.util}):"undefined"!=typeof module&&module.exports&&(module.exports=window.util);